from flask import Flask, request
import json
from flask_cors import CORS

app = Flask(__name__)
CORS(app, resources=r'/*', supports_credentials=True)

@app.route("/code", methods=['POST'])
def code():
    print(json.loads(request.data.decode()))
    return json.dumps({
        "success":True,
        "data":{
            "my":{
                "avatar":"https://wx.qlogo.cn/mmhead/ver_1/4GbibQLtT5HeFyMa4AcIeYjqoCNr5LNmPmC6GL6bHATFR7snLcd5iaZnicyqiaWahHlTGFUU5a6bsmr21WgW6rZRX6e7micRokFWaXib5cLWISUJQ/0"
            },
            "user":{
                "username":"用户名",
                "avatar":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM6Z0RfeVq5YFCnia9xJCKQAQCWgd90icay0LxicYRzfP8ccA/0",
                "par":{
                    "end":"对你单独写的"
                }
            },
            "par":{
                "intro":"这是我们的年度微信聊天报告，请查收。",
                "legal_info": "向下滑动代表您同意使用李昊蕤与您的微信聊天记录作为原始数据生成相关统计信息",
                "maxDay":"美好的日子转瞬即逝，希望未来我们能更深入地了解彼此",
                "latest":"虽然都说熬夜伤身体，但是夜晚对于感情的交流也起到了十分重要的作用"
            },
            "stats":{
                "earlist":{
                    "year":2019,
                    "month":8,
                    "day":15,
                },
                "total":{
                    "msg": 999999,
                    "key0": "关键词0",
                    "key1": "关键词1",
                    "key2": "关键词2",
                    "key3": "关键词3",
                    "key4": "关键词4",
                    "key5": "关键词5",
                    "key6": "关键词6",
                    "key7": "关键词7",
                    "key8": "关键词8",
                    "key9": "关键词9",
                },
                "contin":{
                    "startMonth":1,
                    "startDay":25,
                    "endMonth":12,
                    "endDay":25,
                    "days": 208
                },
                "max":{
                    "month":5,
                    "day":28,
                    "msgs":2562,
                    "key1":"作业",
                    "key2":"考试",
                    "key3":"玩"
                },
                "latest":{
                    "month":7,
                    "day":30,
                    "mmss":"05:35",
                    "key1":"救命",
                    "key2":"男人",
                    "key3":"爽"
                },
                "frequent":{
                    "start":"早上9点",
                    "end":"中午12点",
                    "weekday":'星期三'
                }
            },
            "data":{
                "chatCount":[2039, 2758, 1974, 567, 2938, 1237, 1468, 1826, 489, 941, 1429, 339, 1066, 2464, 750, 2050, 90, 1341, 27, 2575, 2533, 2517, 1474, 2642, 1607, 2153, 2344, 2473, 1582, 908, 2409, 1030, 746, 2654, 2913, 1698, 2607, 327, 97, 186, 2793, 1286, 1516, 2188, 263, 470, 1307, 2613, 449, 1592, 2420, 1083, 1733, 2775, 1530, 100, 2304, 629, 241, 1959, 1692, 2659, 1538, 1628, 439, 2922, 1033, 1874, 2691, 2568, 275, 1350, 1392, 1150, 176, 2218, 1073, 833, 1747, 1243, 1591, 348, 1909, 570, 2643, 2786, 2778, 82, 1498, 2776, 1203, 3, 1976, 1277, 1902, 1236, 2213, 777, 959, 2338, 1966, 1379, 1146, 2450, 2336, 425, 2012, 2840, 257, 1068, 2521, 372, 2041, 926, 3000, 1549, 298, 618, 1125, 2046, 2267, 292, 1198, 2428, 2007, 1235, 2707, 1070, 1334, 1241, 628, 266, 1480, 839, 604, 496, 1897, 2402, 2666, 1663, 118, 77, 2612, 1791, 1398, 992, 1410, 372, 2355, 845, 2739, 967, 2850, 670, 192, 2468, 760, 1981, 2528, 1156, 1670, 253, 1582, 1411, 78, 1119, 2779, 507, 1691, 1194, 1624, 1608, 1034, 532, 1362, 2188, 1129, 1337, 247, 928, 2171, 1685, 1344, 2551, 2856, 1665, 2094, 961, 1859, 1964, 1533, 2893, 890, 1404, 1946, 1941, 1172, 575, 2668, 925, 1350, 603, 701, 872, 2691, 2049, 2129, 2817, 500, 606, 28, 2938, 692, 2223, 1425, 1078, 2303, 121, 2191, 2841, 2724, 1997, 1022, 1345, 2542, 404, 1464, 2985, 1106, 2338, 853, 1621, 2920, 2486, 1771, 293, 2675, 272, 214, 770, 1632, 549, 783, 1759, 1586, 604, 637, 621, 2391, 1874, 2454, 1143, 2793, 2914, 1726, 454, 1343, 91, 1033, 2439, 653, 1683, 2884, 2299, 1360, 143, 1417, 386, 2487, 382, 2950, 378, 2538, 652, 1718, 1632, 794, 89, 1463, 2872, 1645, 2277, 101, 2891, 2991, 267, 350, 1630, 46, 146, 1993, 105, 959, 198, 656, 2750, 1516, 1390, 2052, 2230, 1472, 1725, 2135, 2242, 906, 920, 1936, 2378, 3000, 1739, 1842, 2585, 2296, 719, 2487, 2843, 70, 2749, 2357, 316, 2155, 479, 883, 2431, 1072, 1992, 2070, 2223, 2569, 593, 1176, 2591, 1917, 244, 1755, 1358, 1095, 2663, 940, 298, 1051, 1434, 2263, 1719, 2275, 2859, 1968, 1618, 2016, 490, 243, 1559, 1601, 2196, 1476, 2969, 1140, 543, 110, 1991, 1692, 836, 2579, 2492, 244],
                "timeCount":[40, 300, 76, 153, 117, 276, 346, 176, 302, 32, 46, 256, 61, 87, 12, 5, 319, 97, 123, 178, 99, 286, 280, 157],
                "weekCount":[40, 300, 76, 153, 117, 276, 500]
            },
        }
    })


app.run(port=5000, debug=True)